Код в классе "Purchase" нарушает принцип "единой ответственности".
Выделяем в отдельный класс "Basket" методы добавления покупки, и получения суммы покупки.
Избавились от "магического числа" 4, указав размер массива покупок равным ассортименту товара на данный момент.